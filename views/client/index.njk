{% extends "layout.njk" %}
{% block body %}
<h1>{{ title }}</h1>
    <a href="/client/new" class="btn btn-primary" role="button">Add Client</a>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Client ID</th>
                <th scope="col">Secret</th>
                <th scope="col">Redirect URI</td>
                <th scope="col">Actions</td>
            </tr>
        </thead>
        <tbody>
            {% for client in clients %}
                <tr>
                    <td>{{ client.name }}</td>
                    <td>{{ client.id }}</td>
                    <td>
                        <button type="button" class="secret-hide-toggle btn btn-primary"><i class="fas fa-key"></i></button>
                        <span class="secret" data-secret="{{ client.secret }}" data-hide="true"></span>
                    </td>
                    <td>
                        <a href="{{ client.redirectUri }}">
                            {{ client.redirectUri }}
                        </a>
                    </td>
                    <td>
                        <a href="/client/{{ client._id }}" class="btn btn-primary" role="button">Edit</a>
                        <a href="/client/{{ client._id }}?_method=DELETE" class="btn btn-danger" role="button"
                           onclick="return confirm('Are you sure you want to delete this client?');">Delete</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}